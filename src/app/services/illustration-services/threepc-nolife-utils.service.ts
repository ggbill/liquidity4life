import { Injectable, OnInit } from '@angular/core';
import { DecimalPipe, PercentPipe, CurrencyPipe } from '@angular/common';

@Injectable({
    providedIn: 'root'
})
export class ThreePcNoLifeUtilsService {

    private tableData: any[];
    private chartData: any[];

    constructor(private decimalpipe: DecimalPipe, private percentPipe: PercentPipe, private currencyPipe: CurrencyPipe) { }

    getChartData(): any {

        this.chartData = [
            292500,
            298013.6586,
            293634.4926,
            288172.7313,
            273428.3112,
            256015.9226,
            236389.8536,
            237240.5677,
            239058.5939,
            243282.1491,
            234191.8304,
            221329.7381,
            204450.9511,
            193984.5316,
            180675.1051,
            165924.1973,
            153647.8907,
            135280.835,
            114858.263,
            92048.26106
        ]
        return this.chartData;
    }
    getTableData(): any {

        this.tableData = [
            {
                "name": "Portfolio Investment Perfomance",
                "yr1": 0.06,
                "yr2": 0.02,
                "yr3": 0.018,
                "yr4": -0.02,
                "yr5": -0.032,
                "yr6": -0.044,
                "yr7": 0.063,
                "yr8": 0.073,
                "yr9": 0.091,
                "yr10": 0.028,
                "yr11": 0.014,
                "yr12": -0.003,
                "yr13": 0.04,
                "yr14": 0.032,
                "yr15": 0.033,
                "yr16": 0.064,
                "yr17": 0.036,
                "yr18": 0.037,
                "yr19": 0.037,
                "yr20": 0.052
            },
            {
                "name": "A1 Units",
                "yr1": 117000,
                "yr2": 121129.3461,
                "yr3": 120409.3959,
                "yr4": 119233.2082,
                "yr5": 113359.4525,
                "yr6": 106130.9513,
                "yr7": 97769.68292,
                "yr8": 99989.69759,
                "yr9": 102973.1247,
                "yr10": 107571.9551,
                "yr11": 105373.3167,
                "yr12": 101291.3989,
                "yr13": 95116.91212,
                "yr14": 92683.72943,
                "yr15": 88922.22495,
                "yr16": 84619.90662,
                "yr17": 82197.14363,
                "yr18": 76580.78499,
                "yr19": 70151.06411,
                "yr20": 62729.79454
            },
            {
                "name": "F36 Units",
                "yr1": 175500,
                "yr2": 176884.3125,
                "yr3": 173225.0967,
                "yr4": 168939.5231,
                "yr5": 160068.8587,
                "yr6": 149884.9713,
                "yr7": 138620.1707,
                "yr8": 137250.8701,
                "yr9": 136085.4692,
                "yr10": 135710.1939,
                "yr11": 128818.5137,
                "yr12": 120038.3392,
                "yr13": 109334.0389,
                "yr14": 101300.8022,
                "yr15": 91752.88014,
                "yr16": 81304.29071,
                "yr17": 71450.74706,
                "yr18": 58700.05002,
                "yr19": 44707.19892,
                "yr20": 29318.46652
            },
            {
                "name": "Property Value",
                "yr1": 397500,
                "yr2": 405450,
                "yr3": 412748.1,
                "yr4": 404493.138,
                "yr5": 391549.3576,
                "yr6": 374321.1859,
                "yr7": 397903.4206,
                "yr8": 426950.3703,
                "yr9": 465802.854,
                "yr10": 478845.3339,
                "yr11": 485549.1685,
                "yr12": 484092.521,
                "yr13": 503456.2219,
                "yr14": 519566.821,
                "yr15": 536712.5261,
                "yr16": 571062.1277,
                "yr17": 591620.3643,
                "yr18": 613510.3178,
                "yr19": 636210.1996,
                "yr20": 669293.1299
            },
            {
                "name": "Amount Invested in Portfolio",
                "yr1": 292500,
                "yr2": 298013.6586,
                "yr3": 293634.4926,
                "yr4": 288172.7313,
                "yr5": 273428.3112,
                "yr6": 256015.9226,
                "yr7": 236389.8536,
                "yr8": 237240.5677,
                "yr9": 239058.5939,
                "yr10": 243282.1491,
                "yr11": 234191.8304,
                "yr12": 221329.7381,
                "yr13": 204450.9511,
                "yr14": 193984.5316,
                "yr15": 180675.1051,
                "yr16": 165924.1973,
                "yr17": 153647.8907,
                "yr18": 135280.835,
                "yr19": 114858.263,
                "yr20": 92048.26106
            },
            {
                "name": "",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Income and Gains",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Portfolio Income",
                "yr1": 5374.6875,
                "yr2": 5417.08207,
                "yr3": 5305.018586,
                "yr4": 5173.772894,
                "yr5": 4902.108798,
                "yr6": 4590.227247,
                "yr7": 4245.242726,
                "yr8": 4203.307897,
                "yr9": 4167.617495,
                "yr10": 4156.124689,
                "yr11": 3945.066983,
                "yr12": 3676.174138,
                "yr13": 3348.354943,
                "yr14": 3102.337067,
                "yr15": 2809.931954,
                "yr16": 2489.943903,
                "yr17": 2188.179129,
                "yr18": 1797.689032,
                "yr19": 1369.157967,
                "yr20": 897.8780373
            },
            {
                "name": "A Unit Gains",
                "yr1": 9524.471144,
                "yr2": 5069.464496,
                "yr3": 4838.15812,
                "yr4": 364.3760683,
                "yr5": -958.4726511,
                "yr6": -2117.243749,
                "yr7": 8383.757616,
                "yr8": 9601.908956,
                "yr9": 11759.91456,
                "yr10": 5656.011372,
                "yr11": 4133.630619,
                "yr12": 2325.034533,
                "yr13": 6244.185513,
                "yr14": 5398.737271,
                "yr15": 5309.307516,
                "yr16": 7670.40371,
                "yr17": 5231.694866,
                "yr18": 4988.71576,
                "yr19": 4606.95675,
                "yr20": 5075.933774
            },
            {
                "name": "F Unit Gains",
                "yr1": 6844.5,
                "yr2": 2299.496063,
                "yr3": 2026.733631,
                "yr4": -2196.2138,
                "yr5": -3329.432261,
                "yr6": -4286.71018,
                "yr7": 5676.495988,
                "yr8": 6512.553786,
                "yr9": 8049.455505,
                "yr10": 2469.925529,
                "yr11": 1172.248475,
                "yr12": -234.0747615,
                "yr13": 2842.685013,
                "yr14": 2107.056685,
                "yr15": 1968.099279,
                "yr16": 3382.258494,
                "yr17": 1671.947481,
                "yr18": 1411.736203,
                "yr19": 1075.208134,
                "yr20": 990.9641685
            },
            {
                "name": "Total Investment Return",
                "yr1": 21743.65864,
                "yr2": 12786.04263,
                "yr3": 12169.91034,
                "yr4": 3341.935162,
                "yr5": 614.2038858,
                "yr6": -1813.726682,
                "yr7": 18305.49633,
                "yr8": 20317.77064,
                "yr9": 23976.98756,
                "yr10": 12282.06159,
                "yr11": 9250.946077,
                "yr12": 5767.13391,
                "yr13": 12435.22547,
                "yr14": 10608.13102,
                "yr15": 10087.33875,
                "yr16": 13542.60611,
                "yr17": 9091.821476,
                "yr18": 8198.140994,
                "yr19": 7051.322851,
                "yr20": 6964.775979
            },
            {
                "name": "",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Expenditure",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Utility Costs",
                "yr1": -4301.25,
                "yr2": -4408.78125,
                "yr3": -4519.000781,
                "yr4": -4631.975801,
                "yr5": -4747.775196,
                "yr6": -4866.469576,
                "yr7": -4988.131315,
                "yr8": -5112.834598,
                "yr9": -5240.655463,
                "yr10": -5371.671849,
                "yr11": -5505.963646,
                "yr12": -5643.612737,
                "yr13": -5784.703055,
                "yr14": -5929.320632,
                "yr15": -6077.553647,
                "yr16": -6229.492489,
                "yr17": -6385.229801,
                "yr18": -6544.860546,
                "yr19": -6708.48206,
                "yr20": -6876.194111
            },
            {
                "name": "Property Costs",
                "yr1": -8418.75,
                "yr2": -9170.644147,
                "yr3": -9574.278932,
                "yr4": -9976.4861,
                "yr5": -9977.736918,
                "yr6": -9855.058767,
                "yr7": -9613.90396,
                "yr8": -10514.55567,
                "yr9": -11607.32536,
                "yr10": -13030.02711,
                "yr11": -13738.28986,
                "yr12": -14282.55384,
                "yr13": -14596.8478,
                "yr14": -15584.97295,
                "yr15": -16509.33069,
                "yr16": -17507.07876,
                "yr17": -19126.18273,
                "yr18": -20340.14015,
                "yr19": -21653.50481,
                "yr20": -23053.44098
            },
            {
                "name": "Administration Fees",
                "yr1": -3510,
                "yr2": -3585.783317,
                "yr3": -3538.391905,
                "yr4": -3477.893354,
                "yr5": -3301.080374,
                "yr6": -3090.813982,
                "yr7": -2852.74695,
                "yr8": -2872.354165,
                "yr9": -2905.451562,
                "yr10": -2970.681266,
                "yr11": -2868.784888,
                "yr12": -2719.754376,
                "yr13": -2520.094071,
                "yr14": -2403.263963,
                "yr15": -2251.362176,
                "yr16": -2082.341506,
                "yr17": -1947.464625,
                "yr18": -1735.712275,
                "yr19": -1499.337951,
                "yr20": -1234.131583
            },
            {
                "name": "",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Total Cost",
                "yr1": -16230,
                "yr2": -17165.20871,
                "yr3": -17631.67162,
                "yr4": -18086.35525,
                "yr5": -18026.59249,
                "yr6": -17812.34233,
                "yr7": -17454.78223,
                "yr8": -18499.74443,
                "yr9": -19753.43238,
                "yr10": -21372.38023,
                "yr11": -22113.0384,
                "yr12": -22645.92095,
                "yr13": -22901.64492,
                "yr14": -23917.55755,
                "yr15": -24838.24651,
                "yr16": -25818.91275,
                "yr17": -27458.87715,
                "yr18": -28620.71297,
                "yr19": -29861.32482,
                "yr20": -31163.76668
            },
            {
                "name": "Portfolio Gains/Losses",
                "yr1": 5513.658644,
                "yr2": -4379.166086,
                "yr3": -5461.761281,
                "yr4": -14744.42009,
                "yr5": -17412.3886,
                "yr6": -19626.06901,
                "yr7": 850.7141057,
                "yr8": 1818.026208,
                "yr9": 4223.555179,
                "yr10": -9090.318636,
                "yr11": -12862.09232,
                "yr12": -16878.78704,
                "yr13": -10466.41945,
                "yr14": -13309.42653,
                "yr15": -14750.90776,
                "yr16": -12276.30665,
                "yr17": -18367.05568,
                "yr18": -20422.57197,
                "yr19": -22810.00197,
                "yr20": -24198.9907
            }
        ]

        this.tableData.forEach(element => {
            if (element.name != "Portfolio Investment Perfomance") {
                // convert to currency
                element.yr1 = this.currencyPipe.transform(element.yr1, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr5 = this.currencyPipe.transform(element.yr5, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr10 = this.currencyPipe.transform(element.yr10, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr15 = this.currencyPipe.transform(element.yr15, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr16 = this.currencyPipe.transform(element.yr16, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr17 = this.currencyPipe.transform(element.yr17, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr18 = this.currencyPipe.transform(element.yr18, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr19 = this.currencyPipe.transform(element.yr19, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr20 = this.currencyPipe.transform(element.yr20, 'GBP', 'symbol-narrow', '1.0-0');

            } else {
                // add percent symbols
                element.yr1 = this.percentPipe.transform(element.yr1, '1.2-5');
                element.yr5 = this.percentPipe.transform(element.yr5, '1.2-5');
                element.yr10 = this.percentPipe.transform(element.yr10, '1.2-5');
                element.yr15 = this.percentPipe.transform(element.yr15, '1.2-5');
                element.yr16 = this.percentPipe.transform(element.yr16, '1.2-5');
                element.yr17 = this.percentPipe.transform(element.yr17, '1.2-5');
                element.yr18 = this.percentPipe.transform(element.yr18, '1.2-5');
                element.yr19 = this.percentPipe.transform(element.yr19, '1.2-5');
                element.yr20 = this.percentPipe.transform(element.yr20, '1.2-5');
            }
        });

        return this.tableData;

    }

}
