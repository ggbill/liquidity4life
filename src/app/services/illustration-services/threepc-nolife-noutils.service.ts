import { Injectable, OnInit } from '@angular/core';
import { DecimalPipe, PercentPipe, CurrencyPipe } from '@angular/common';

@Injectable({
    providedIn: 'root'
})
export class ThreePcNoLifeNoUtilsService {

    private tableData: any[];
    private chartData: any[];

    constructor(private decimalpipe: DecimalPipe, private percentPipe: PercentPipe, private currencyPipe: CurrencyPipe) { }

    getChartData(): any {

        this.chartData = [
            292500,
            302314.9086,
            302556.6846,
            302041.4187,
            292180.3461,
            279681.8912,
            264913.415,
            273146.2116,
            283384.5493,
            297576.4484,
            296966.3963,
            292525.0597,
            283656.6863,
            284317.9679,
            282487.2807,
            280179.309,
            284114.3992,
            280686.6824,
            276507.4495,
            271245.5676
        ]
        return this.chartData;
    }
    getTableData(): any {

        this.tableData = [
            {
                "name": "Portfolio Investment Perfomance",
                "yr1": 0.06,
                "yr2": 0.02,
                "yr3": 0.018,
                "yr4": -0.02,
                "yr5": -0.032,
                "yr6": -0.044,
                "yr7": 0.063,
                "yr8": 0.073,
                "yr9": 0.091,
                "yr10": 0.028,
                "yr11": 0.014,
                "yr12": -0.003,
                "yr13": 0.04,
                "yr14": 0.032,
                "yr15": 0.033,
                "yr16": 0.064,
                "yr17": 0.036,
                "yr18": 0.037,
                "yr19": 0.037,
                "yr20": 0.05
            },
            {
                "name": "A1 Units",
                "yr1": 117000,
                "yr2": 122849.8461,
                "yr3": 123982.0158,
                "yr4": 124791.6543,
                "yr5": 120839.945,
                "yr6": 115518.6751,
                "yr7": 109007.8817,
                "yr8": 114311.5743,
                "yr9": 120871.9398,
                "yr10": 129804.8561,
                "yr11": 131146.367,
                "yr12": 130534.5883,
                "yr13": 127580.1218,
                "yr14": 129934.9396,
                "yr15": 131105.694,
                "yr16": 132197.4347,
                "yr17": 137092.9403,
                "yr18": 138099.6236,
                "yr19": 138942.5886,
                "yr20": 139448.7566
            },
            {
                "name": "B36 Units",
                "yr1": 175500,
                "yr2": 179465.0625,
                "yr3": 178574.6688,
                "yr4": 177249.7643,
                "yr5": 171340.4011,
                "yr6": 164163.2161,
                "yr7": 155905.5333,
                "yr8": 158834.6374,
                "yr9": 162512.6095,
                "yr10": 167771.5923,
                "yr11": 165820.0294,
                "yr12": 161990.4714,
                "yr13": 156076.5646,
                "yr14": 154383.0283,
                "yr15": 151381.5867,
                "yr16": 147981.8743,
                "yr17": 147021.4589,
                "yr18": 142587.0587,
                "yr19": 137564.8609,
                "yr20": 131796.811
            },
            {
                "name": "Property Value",
                "yr1": 397500,
                "yr2": 405450,
                "yr3": 412748.1,
                "yr4": 404493.138,
                "yr5": 391549.3576,
                "yr6": 374321.1859,
                "yr7": 397903.4206,
                "yr8": 426950.3703,
                "yr9": 465802.854,
                "yr10": 478845.3339,
                "yr11": 485549.1685,
                "yr12": 484092.521,
                "yr13": 503456.2219,
                "yr14": 519566.821,
                "yr15": 536712.5261,
                "yr16": 571062.1277,
                "yr17": 591620.3643,
                "yr18": 613510.3178,
                "yr19": 636210.1996,
                "yr20": 668020.7096
            },
            {
                "name": "Amount Invested in Portfolio",
                "yr1": 292500,
                "yr2": 302314.9086,
                "yr3": 302556.6846,
                "yr4": 302041.4187,
                "yr5": 292180.3461,
                "yr6": 279681.8912,
                "yr7": 264913.415,
                "yr8": 273146.2116,
                "yr9": 283384.5493,
                "yr10": 297576.4484,
                "yr11": 296966.3963,
                "yr12": 292525.0597,
                "yr13": 283656.6863,
                "yr14": 284317.9679,
                "yr15": 282487.2807,
                "yr16": 280179.309,
                "yr17": 284114.3992,
                "yr18": 280686.6824,
                "yr19": 276507.4495,
                "yr20": 271245.5676
            },
            {
                "name": "",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Income and Gains",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Portfolio Income",
                "yr1": 5374.6875,
                "yr2": 5496.117539,
                "yr3": 5468.849233,
                "yr4": 5428.274032,
                "yr5": 5247.299784,
                "yr6": 5027.498494,
                "yr7": 4774.606957,
                "yr8": 4864.310769,
                "yr9": 4976.948665,
                "yr10": 5138.005014,
                "yr11": 5078.2384,
                "yr12": 4960.958187,
                "yr13": 4779.84479,
                "yr14": 4727.980243,
                "yr15": 4636.061093,
                "yr16": 4531.944901,
                "yr17": 4502.532178,
                "yr18": 4366.728674,
                "yr19": 4212.923866,
                "yr20": 4036.277337
            },
            {
                "name": "A Unit Gains",
                "yr1": 9524.471144,
                "yr2": 5123.876981,
                "yr3": 4945.520901,
                "yr4": 323.5762782,
                "yr5": -1099.800956,
                "yr6": -2402.936703,
                "yr7": 9242.295833,
                "yr8": 10847.52677,
                "yr9": 13648.42071,
                "yr10": 6625.254342,
                "yr11": 4914.430324,
                "yr12": 2735.569254,
                "yr13": 8102.870885,
                "yr14": 7261.517648,
                "yr15": 7489.557707,
                "yr16": 11622.77473,
                "yr17": 8312.87893,
                "yr18": 8548.737023,
                "yr19": 8641.296705,
                "yr20": 10497.56567
            },
            {
                "name": "B Unit Gains",
                "yr1": 6844.5,
                "yr2": 2333.045813,
                "yr3": 2089.323626,
                "yr4": -2304.246936,
                "yr5": -3563.880343,
                "yr6": -4695.067982,
                "yr7": 6384.331588,
                "yr8": 7536.703543,
                "yr9": 9612.620851,
                "yr10": 3053.44298,
                "yr11": 1508.962267,
                "yr12": -315.8814192,
                "yr13": 4057.990679,
                "yr14": 3211.16699,
                "yr15": 3247.135035,
                "yr16": 6156.045972,
                "yr17": 3440.302137,
                "yr18": 3429.218762,
                "yr19": 3308.434906,
                "yr20": 4283.396358
            },
            {
                "name": "Total Investment Return",
                "yr1": 21743.65864,
                "yr2": 12953.04033,
                "yr3": 12503.69376,
                "yr4": 3447.603374,
                "yr5": 583.618485,
                "yr6": -2070.50619,
                "yr7": 20401.23438,
                "yr8": 23248.54108,
                "yr9": 28237.99023,
                "yr10": 14816.70234,
                "yr11": 11501.63099,
                "yr12": 7380.646022,
                "yr13": 16940.70635,
                "yr14": 15200.66488,
                "yr15": 15372.75383,
                "yr16": 22310.7656,
                "yr17": 16255.71324,
                "yr18": 16344.68446,
                "yr19": 16162.65548,
                "yr20": 18817.23937
            },
            {
                "name": "",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Expenditure",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Property Costs",
                "yr1": -8418.75,
                "yr2": -9073.866022,
                "yr3": -9373.482821,
                "yr4": -9664.303494,
                "yr5": -9556.070152,
                "yr6": -9323.557768,
                "yr7": -8974.264151,
                "yr8": -9707.18344,
                "yr9": -10607.88595,
                "yr10": -11801.96561,
                "yr11": -12317.57183,
                "yr12": -12671.09584,
                "yr13": -12804.95731,
                "yr14": -13538.49769,
                "yr15": -14200.32425,
                "yr16": -14912.8952,
                "yr17": -16156.82137,
                "yr18": -17026.55234,
                "yr19": -17964.74999,
                "yr20": -18958.50109
            },
            {
                "name": "Administration Fees",
                "yr1": -3510,
                "yr2": -3637.398317,
                "yr3": -3645.476925,
                "yr4": -3644.372458,
                "yr5": -3526.003186,
                "yr6": -3374.412288,
                "yr7": -3194.173558,
                "yr8": -3303.019988,
                "yr9": -3438.205192,
                "yr10": -3624.788764,
                "yr11": -3625.395798,
                "yr12": -3577.923538,
                "yr13": -3474.467472,
                "yr14": -3492.854377,
                "yr15": -3480.401277,
                "yr16": -3462.780264,
                "yr17": -3526.608693,
                "yr18": -3497.364942,
                "yr19": -3459.787438,
                "yr20": -3409.699459
            },
            {
                "name": "",
                "yr1": null,
                "yr2": null,
                "yr3": null,
                "yr4": null,
                "yr5": null,
                "yr6": null,
                "yr7": null,
                "yr8": null,
                "yr9": null,
                "yr10": null,
                "yr11": null,
                "yr12": null,
                "yr13": null,
                "yr14": null,
                "yr15": null,
                "yr16": null,
                "yr17": null,
                "yr18": null,
                "yr19": null,
                "yr20": null
            },
            {
                "name": "Total Cost",
                "yr1": -11928.75,
                "yr2": -12711.26434,
                "yr3": -13018.95975,
                "yr4": -13308.67595,
                "yr5": -13082.07334,
                "yr6": -12697.97006,
                "yr7": -12168.43771,
                "yr8": -13010.20343,
                "yr9": -14046.09114,
                "yr10": -15426.75437,
                "yr11": -15942.96763,
                "yr12": -16249.01938,
                "yr13": -16279.42478,
                "yr14": -17031.35207,
                "yr15": -17680.72553,
                "yr16": -18375.67546,
                "yr17": -19683.43006,
                "yr18": -20523.91728,
                "yr19": -21424.53743,
                "yr20": -22368.20055
            },
            {
                "name": "Portfolio Gains/Losses",
                "yr1": 9814.908644,
                "yr2": 241.7759937,
                "yr3": -515.2659872,
                "yr4": -9861.072578,
                "yr5": -12498.45485,
                "yr6": -14768.47625,
                "yr7": 8232.79667,
                "yr8": 10238.33765,
                "yr9": 14191.89908,
                "yr10": -610.0520383,
                "yr11": -4441.336639,
                "yr12": -8868.373359,
                "yr13": 661.2815731,
                "yr14": -1830.687188,
                "yr15": -2307.971694,
                "yr16": 3935.090136,
                "yr17": -3427.716819,
                "yr18": -4179.23282,
                "yr19": -5261.881949,
                "yr20": -3550.961184
            }
        ]

        this.tableData.forEach(element => {
            if (element.name != "Portfolio Investment Perfomance") {
                // convert to currency
                element.yr1 = this.currencyPipe.transform(element.yr1, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr5 = this.currencyPipe.transform(element.yr5, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr10 = this.currencyPipe.transform(element.yr10, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr15 = this.currencyPipe.transform(element.yr15, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr16 = this.currencyPipe.transform(element.yr16, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr17 = this.currencyPipe.transform(element.yr17, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr18 = this.currencyPipe.transform(element.yr18, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr19 = this.currencyPipe.transform(element.yr19, 'GBP', 'symbol-narrow', '1.0-0');
                element.yr20 = this.currencyPipe.transform(element.yr20, 'GBP', 'symbol-narrow', '1.0-0');

            } else {
                // add percent symbols
                element.yr1 = this.percentPipe.transform(element.yr1, '1.2-5');
                element.yr5 = this.percentPipe.transform(element.yr5, '1.2-5');
                element.yr10 = this.percentPipe.transform(element.yr10, '1.2-5');
                element.yr15 = this.percentPipe.transform(element.yr15, '1.2-5');
                element.yr16 = this.percentPipe.transform(element.yr16, '1.2-5');
                element.yr17 = this.percentPipe.transform(element.yr17, '1.2-5');
                element.yr18 = this.percentPipe.transform(element.yr18, '1.2-5');
                element.yr19 = this.percentPipe.transform(element.yr19, '1.2-5');
                element.yr20 = this.percentPipe.transform(element.yr20, '1.2-5');
            }
        });

        return this.tableData;

    }

}
